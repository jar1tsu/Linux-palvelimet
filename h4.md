### x)

### Teoriasta käytäntöön pilvipalvelimen avulla
#### Pilvipalvelimen vuokraus ja asennus

- LOI DigitalOcean‑palvelimen (Debian 11, halvin 5 $/kk)
- Valitsi datakeskukseksi Amsterdamin
- Asensi palvelimen salasanakirjautumisella
- Hanki domain Namecheapista (susannalehto.me) GitHub‑alennuksella
- Poisti oletus-DNS‑tietueet, loi A‑tietueet → ohjasi domainin palvelimen IP‑osoitteeseen

#### Palvelin suojaan palomuurilla

- SSH sisään: ssh root@IP
- Asensi UFW:n ja avasi SSH‑portin 22
- Aktivoi palomuurin

#### Kotisivut palvelimelle

- Loi käyttäjän suska ja antoi sudo‑oikeudet
- Asensi Apachen, avasi portin 80
- Korvasi Apachen testisivun "Hello world" ‑sivulla
- Otti käyttöön userdir‑moduulin ja loi public_html‑kansion
- Loi HTML-sivun → näkyy osoitteessa susannalehto.me/~suska

#### Palvelimen ohjelmien päivitys

Suoritti päivityskomennot:
- apt-get update
- apt-get upgrade
- apt-get dist-upgrade

### First Steps on a New Virtual Private Server - example on DigitalOcean and Ubuntu 16.04 LTS
- Luo DigitalOcean‑tili, lisää kortti/promo ja tee uusi Ubuntu‑palvelin lähellä asiakkaita.
- Kirjaudu kerran rootina ja käytä aina vahvoja salasanoja.
- Avaa SSH‑portti ja ota UFW‑palomuuri käyttöön.
- Luo oma käyttäjä ja anna sudo‑oikeudet, testaa kirjautuminen.
- Lukitse root‑tunnus ja estä root‑kirjautuminen SSH:ssa.
- Päivitä paketit (update + upgrade).
- Asenna palvelut (esim. Apache) ja avaa niiden portit.
- NameCheapissa poista oletus-DNS‑tietueet, lisää A‑tietue palvelimen IP:lle ja testaa DNS toimivaksi.


### a) Vuokraa oma virtuaalipalvelin haluamaltasi palveluntarjoajalta.
Tämä tehtiin tunnilla ja sain tehtyä ilman mitään suuria ongelmia. Loin upcloudiin tilin ja sain kuukaudeksi 250e krediittejä. Sen jälkeen tein serverin. Otin terminaalista julkisen ssh ja lisäsin sen serveriin. Loin sereverin ja odotin, että se käynnistyi. Otin ip osiotteen serveriltä ja liitin sen koneeseen.

<img width="1074" height="464" alt="image" src="https://github.com/user-attachments/assets/fea3e44b-05fb-443b-ab17-a1b23ecc2337" />

### b) Tee alkutoimet omalla virtuaalipalvelimellasi
Aloitin tehtävän lisäämällä käyttäjän ja sulkemalla root käyttäjän. Tein nämä Teron artikkelin First Steps on a New Virtual Private Server - example on DigitalOcean and Ubuntu 16.04 LTS avulla.

Aloitin komennoilla:
sudo adduser jari:

<img width="880" height="362" alt="image" src="https://github.com/user-attachments/assets/a9d16c27-8c66-447f-8c80-e3afd9c430c5" />

sudo adduser jari sudo
sudo adduser jari  adm
Näiden jälkeen tein kuten tunnilla:

<img width="1106" height="780" alt="image" src="https://github.com/user-attachments/assets/99184b2e-b9be-4e75-86dd-c5699957e54d" />

Kirjauduin sisään normitunnuksilla ja pääsin sisään:

<img width="1078" height="768" alt="image" src="https://github.com/user-attachments/assets/21d9e24e-7680-4af5-8b9d-bf5c4f4d2a63" />

Sitten rupesin laittamaan root-tunnusta kiinni. `sudo usermod --lock root` ja `sudo rm /root/.ssh/authorized_keys`. Kokeilin pääsenkö root käyttäjällä ja:

<img width="730" height="178" alt="image" src="https://github.com/user-attachments/assets/386e8fc1-73e9-4ccb-8ab7-91bd31a0444a" />

permission denied eli toimi. Testasin vielä normikäyttäjällä:

<img width="1102" height="784" alt="image" src="https://github.com/user-attachments/assets/85b6289e-7415-4c13-ad07-e40ce4cd2b1c" />

toimii normikäyttäjällä.

Sitten rupesin laittamaan palomuuria päälle. Ensin latasin sen `sudo apt install ufw`. Sitten tein komennot `sudo ufw allow 22/tcp` ja `sudo uwf allow 80/tcp` eli sallin ssh-ylläpidon ja web-palvelimen. Laitoin sit muurin määlle: 

<img width="1082" height="714" alt="image" src="https://github.com/user-attachments/assets/0af141f1-1063-47e7-a32f-101a79066267" />

Päivitin vielä paketit: 

<img width="1032" height="150" alt="image" src="https://github.com/user-attachments/assets/a5b05165-9032-4800-838b-684f1ab84685" />

### c) Asenna weppipalvelin omalle virtuaalipalvelimellesi

Aloitin tehtävän Lataamalla palvelin userille Apache2:sen. Ja loin sinne yksinkertaisen sivun echo "<h1>Terve, tässä Jarin VPS</h1>" | sudo tee /var/www/html/index.html komennolla. Avasin palvelimen ja kokeilin tietokoneella ja puhelimella ja se toimi!

<img width="1964" height="782" alt="image" src="https://github.com/user-attachments/assets/73c426ff-91bd-4f43-8457-e30d80db0fe5" />

Tämä kohta oli hieman haastava ja vei minulta aikaa, käytin myös apuna tekoälyä ymmärtäkseni, että teinkö tehtävän oikein ja käsitteitä avasin sillä.

### Lähteet:

Karvinen, T. 2012. First Steps on a New Virtual Private Server - example on DigitalOcean and Ubuntu 16.04 LTS. Saatavilla: https://terokarvinen.com/2017/first-steps-on-a-new-virtual-private-server-an-example-on-digitalocean/. Luettu: 8.2.2026.

Lehto. S. 2022. Teoriasta käytäntöön pilvipalvelimen avulla (h4). Saatavilla: https://susannalehto.fi/2022/teoriasta-kaytantoon-pilvipalvelimen-avulla-h4/. Luettu: 8.2.2026.

Tekoäly: Käytetty c kohdassa Microsof Copilottia, koska jäin jumiin ja en tiennyt mitä tehdä. Myös avasin käsitteitä sen avulla.













